(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{22:function(e,t,a){e.exports=a(38)},27:function(e,t,a){},28:function(e,t,a){},34:function(e,t,a){},35:function(e,t,a){},36:function(e,t,a){},37:function(e,t,a){},38:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),r=a(19),l=a.n(r),o=a(3),c=a(4),i=a(6),u=a(5),p=a(7),m=a(10),h=a(11),f=(a(27),function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={currentCat:null,currentDog:null,users:null,usersList:null,userName:window.localStorage.petful_user_name,createUserInterval:null},a.createUserList=function(){for(var e=[],t=a.state.users;t;)e.push(t.value),t=t.next;return a.setState({usersList:e}),e},a.handleJoin=function(e){e.preventDefault();var t=e.target.user.value;window.localStorage.setItem("petful_user_name",t),a.setState({userName:t}),a.setState({users:a.props.joinQueue(t)}),a.createUserList(),a.createVisualList()},a.createVisualList=function(){for(var e=a.props.petsData.users,t=[];e;)t.push(e.value),e=e.next;return void 0===t[0]?s.a.createElement("p",null,"Updating List"):void 0!==t[0]?t.map((function(e,t){return s.a.createElement("li",{key:t},e)})):void 0},a.handleAdoptCatButton=function(e){e.preventDefault(),a.setState({userName:null}),a.props.adoptCat()},a.handleAdoptDogButton=function(e){e.preventDefault(),a.setState({userName:null}),a.props.adoptDog()},a.handleAdoptBothButton=function(e){e.preventDefault(),a.setState({userName:null}),a.props.adoptBoth()},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.createUserList(),this.setState({currentCat:this.props.petsData.firstCat,currentDog:this.props.petsData.firstDog,users:this.props.petsData.users});var e=setInterval(this.createUserList,1e3);this.setState({createUserInterval:e})}},{key:"componentWillUnmount",value:function(){clearInterval(this.state.createUserInterval)}},{key:"render",value:function(){var e=this,t=this.state.currentCat?this.state.currentCat.value:null,a=this.state.currentDog?this.state.currentDog.value:null;return s.a.createElement("div",{className:"adopt-now-page"},s.a.createElement("h2",null,"ADOPT NOW"),s.a.createElement("div",{className:"adoption-options"},s.a.createElement("div",null,s.a.createElement("h3",null,"AVAILABLE CAT"),t?s.a.createElement(s.a.Fragment,null,s.a.createElement("img",{src:this.state.currentCat.value.imageURL,alt:this.state.currentCat.value.imageDescription}),s.a.createElement("ul",null,s.a.createElement("li",null,s.a.createElement("span",{className:"pet-details"},"Name:")," ",t.name),s.a.createElement("li",null,s.a.createElement("span",{className:"pet-details"},"Age:"),t.age),s.a.createElement("li",null,s.a.createElement("span",{className:"pet-details"},"Sex:")," ",t.sex),s.a.createElement("li",null,s.a.createElement("span",{className:"pet-details"},"Breed:")," ",t.breed),s.a.createElement("li",null,s.a.createElement("span",{className:"pet-details"},"Story:")," ",t.story))):s.a.createElement("h4",null,"No Cats Available for Adoption")),s.a.createElement("div",null,s.a.createElement("h3",null,"AVAILABLE DOG"),a?s.a.createElement(s.a.Fragment,null,s.a.createElement("img",{src:this.state.currentDog.value.imageURL,alt:this.state.currentDog.value.imageDescription}),s.a.createElement("ul",null,s.a.createElement("li",null,s.a.createElement("span",{className:"pet-details"},"Name:")," ",a.name),s.a.createElement("li",null,s.a.createElement("span",{className:"pet-details"},"Age:"),a.age),s.a.createElement("li",null,s.a.createElement("span",{className:"pet-details"},"Sex:")," ",a.sex),s.a.createElement("li",null,s.a.createElement("span",{className:"pet-details"},"Breed:")," ",a.breed),s.a.createElement("li",null,s.a.createElement("span",{className:"pet-details"},"Story:")," ",a.story))):s.a.createElement("h4",null,"Dogs Available for Adoption"))),s.a.createElement("h2",null,"Queue"),this.state.userName?s.a.createElement(s.a.Fragment,null):s.a.createElement("form",{onSubmit:function(t){return e.handleJoin(t)}},s.a.createElement("div",null,s.a.createElement("label",{htmlFor:"user"},"Name:"),s.a.createElement("input",{type:"text",name:"user",required:!0})),s.a.createElement("button",{className:"join-queue-button",type:"submit"},"Get In Line")),this.state.users&&this.state.users.value!==this.state.userName?s.a.createElement(s.a.Fragment,null):s.a.createElement("div",{className:"adopt-buttons"},s.a.createElement("button",{onClick:function(t){return e.handleAdoptCatButton(t)}},"Adopt Cat"),s.a.createElement("button",{onClick:function(t){return e.handleAdoptDogButton(t)}},"Adopt Dog"),s.a.createElement("button",{onClick:function(t){return e.handleAdoptBothButton(t)}},"Adopt Both")),this.props.petsData.users&&s.a.createElement("ol",null,this.createVisualList()))}}]),t}(n.Component));f.getDerivedStateFromProps=function(e,t){var a=[];if(t.users)for(var n=t.users;n.next;)a.push(n.value),n=n.next;return{currentCat:e.petsData.firstCat,currentDog:e.petsData.firstDog,users:e.petsData.users,usersList:a}};var d=f,E=(a(28),function(e){function t(){return Object(o.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"site-details"},s.a.createElement("img",{src:"https://wallpaperaccess.com/full/497384.jpg",alt:"cat and dog picture"}),s.a.createElement("h2",null,"Welcome to Petful"),s.a.createElement("p",null,"Petful is an easy to use pet adoption site. We have dogs and cats available for adoption. We have a 'First In First Out' policy here at Petful. This means that we only have one dog and one cat available to adopt at a time. Only the cat and dog that have been at our shelter the longest are available for adoption."),s.a.createElement("p",null,"Please get in line to adopt a pet. When you are the first in line you will be given the option to adopt our available dog, our available cat, or both. You will have thirty seconds to decide if you would like to adopt before being moved to the back of the line again."),s.a.createElement(m.b,{to:"/Adoptions"},s.a.createElement("button",{className:"enter-site-button"},"Proceed to Site")))}}]),t}(n.Component)),v=function(e){function t(){return Object(o.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement("img",{src:this.props.animal.imageURL,alt:this.props.animal.imageDescription}),s.a.createElement("p",{className:"adoption-details"},this.props.animal.animalName," was adopted by ",this.props.animal.humanName))}}]),t}(n.Component),g=(a(34),function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={successes:null},a.setSuccesses=function(){a.setState({successes:a.props.successes})},a.renderSuccesses=function(){return a.state.successes.map((function(e,t){return s.a.createElement(v,{key:t,animal:e})}))},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.setSuccesses()}},{key:"render",value:function(){return s.a.createElement("div",{className:"success-page"},s.a.createElement("h2",null,"SUCCESS STORIES"),s.a.createElement("div",{className:"adopted-info"},this.state.successes&&this.renderSuccesses()))}}]),t}(n.Component));g.getDerivedStateFromProps=function(e,t){return{successes:e.successes}};var D=g,b=(a(35),function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(s)))).state={firstCat:null,firstDog:null,currentCat:null,currentDog:null},a.handleNextDog=function(){if(a.state.currentDog)if(a.state.currentDog.next){var e=a.state.currentDog.next;a.setState({currentDog:e})}else a.setState({currentDog:a.state.firstDog})},a.handleNextCat=function(){if(a.state.currentCat)if(a.state.currentCat.next){var e=a.state.currentCat.next;a.setState({currentCat:e})}else a.setState({currentCat:a.state.firstCat})},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.props.petsData.firstCat&&this.props.petsData.firstCat&&this.setState({firstCat:this.props.petsData.firstCat.next,firstDog:this.props.petsData.firstDog.next,currentCat:this.props.petsData.firstCat.next,currentDog:this.props.petsData.firstDog.next})}},{key:"render",value:function(){var e=this;return s.a.createElement(s.a.Fragment,null,s.a.createElement("h2",{className:"pets-page-header"},"AVAILABLE SOON"),s.a.createElement("div",{className:"pets-page"},s.a.createElement("div",{id:"adoptable-cat",className:"next-animals"},s.a.createElement("h3",null,"CATS"),this.state.currentCat?s.a.createElement(s.a.Fragment,null,s.a.createElement("img",{src:this.state.currentCat.value.imageURL,alt:this.state.currentCat.value.imageDescription}),s.a.createElement("div",{className:"animal-names"},s.a.createElement("span",{id:"cat-name"},this.state.currentCat.value.name))):s.a.createElement("h4",null,"No Cats Available"),s.a.createElement("button",{className:"next-button",onClick:function(t){t.preventDefault(),e.handleNextCat()}},"NEXT CAT")),s.a.createElement("div",{className:"next-animals"},s.a.createElement("h3",null,"DOGS"),this.state.currentDog?s.a.createElement(s.a.Fragment,null,s.a.createElement("img",{src:this.state.currentDog.value.imageURL,alt:this.state.currentDog.value.imageDescription}),s.a.createElement("div",{className:"animal-names"},s.a.createElement("span",{id:"dog-name"},this.state.currentDog.value.name))):s.a.createElement("h4",null,"No Dogs Available"),s.a.createElement("button",{className:"next-button",onClick:function(t){t.preventDefault(),e.handleNextDog()}},"NEXT DOG"))))}}]),t}(n.Component));b.getDerivedStateFromProps=function(e,t){if(e.petsData.firstCat&&e.petsData.firstDog)return t.currentCat&&t.currentDog?{firstCat:e.petsData.firstCat.next,firstDog:e.petsData.firstDog.next}:{firstCat:e.petsData.firstCat.next,firstDog:e.petsData.firstDog.next,currentCat:e.petsData.firstCat.next,currentDog:e.petsData.firstDog.next}};var N=b,C={API_ENDPOINT:"https://lit-ravine-76962.herokuapp.com/api",TOKEN_KEY:"new-api-token"},S=(a(36),function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(s)))).state={firstDog:{},firstCat:{},users:[],successes:[]},a.setSuccessStories=function(){var e=C.API_ENDPOINT;fetch(e+"successes",{method:"GET",headers:{"content-type":"application/json"}}).then((function(e){if(!e.ok)throw new Error(e.status);return e.json()})).then((function(e){a.setState({successes:e})}))},a.setUsers=function(){var e=C.API_ENDPOINT;fetch(e+"users",{method:"GET",headers:{"content-type":"application/json"}}).then((function(e){if(!e.ok)throw new Error(e.status);return e.json()})).then((function(e){a.setState({users:e})}))},a.setFirstCat=function(){var e=C.API_ENDPOINT;fetch(e+"cats",{method:"GET",headers:{"content-type":"application/json"}}).then((function(e){if(!e.ok)throw new Error(e.status);return e.json()})).then((function(e){a.setState({firstCat:e})}))},a.setFirstDog=function(){var e=C.API_ENDPOINT;fetch(e+"dogs",{method:"GET",headers:{"content-type":"application/json"}}).then((function(e){if(!e.ok)throw new Error(e.status);return e.json()})).then((function(e){a.setState({firstDog:e})}))},a.adoptCat=function(){window.localStorage.clear();var e=C.API_ENDPOINT;fetch(e+"cats",{method:"DELETE",headers:{"content-type":"application/json"}}).then((function(e){if(!e.ok)throw new Error(e.status)})).then((function(){a.setState({firstCat:a.state.firstCat.next?a.state.firstCat.next:null,users:a.state.users.next?a.state.users.next:null})}))},a.adoptDog=function(){window.localStorage.clear();var e=C.API_ENDPOINT;fetch(e+"dogs",{method:"DELETE",headers:{"content-type":"application/json"}}).then((function(e){if(!e.ok)throw new Error(e.status)})).then((function(){a.setState({firstDog:a.state.firstDog.next?a.state.firstDog.next:null,users:a.state.users.next?a.state.users.next:null})}))},a.joinQueue=function(e){var t=C.API_ENDPOINT,n={user:e};fetch(t+"users",{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify(n)}).then((function(e){if(!e.ok)throw new Error(e.status);return e.json()})).then((function(e){return a.setState({users:e}),a.state.users}))},a.adoptBoth=function(){window.localStorage.clear();var e=C.API_ENDPOINT;fetch(e+"users",{method:"DELETE",headers:{"content-type":"application/json"}}).then((function(e){if(!e.ok)throw new Error(e.status)})).then((function(){a.setState({firstCat:a.state.firstCat.next?a.state.firstCat.next:null,firstDog:a.state.firstDog.next?a.state.firstDog.next:null,users:a.state.users.next?a.state.users.next:null})}))},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.setFirstCat(),this.setFirstDog(),this.setUsers(),this.setSuccessStories(),setInterval(this.setUsers,5e3),setInterval(this.setFirstCat,5e3),setInterval(this.setFirstDog,5e3),setInterval(this.setSuccessStories,5e3)}},{key:"componentWillUnmount",value:function(){clearInterval()}},{key:"render",value:function(){var e=this;return s.a.createElement("div",null,s.a.createElement("header",null,s.a.createElement(m.b,{to:"/"},s.a.createElement("button",{className:"logo-button"},s.a.createElement("h1",null,"PETFUL"))),s.a.createElement("nav",{className:"nav-bar"},s.a.createElement(m.b,{to:"Pets"},s.a.createElement("button",{className:"nav-button"},"Pets")),s.a.createElement(m.b,{to:"/Adoptions"},s.a.createElement("button",{className:"nav-button"},"Adopt Now")),s.a.createElement(m.b,{to:"/Success"},s.a.createElement("button",{className:"nav-button"},"Success")))),s.a.createElement(h.a,{exact:!0,path:"/",component:E}),s.a.createElement(h.a,{path:"/Adoptions",render:function(){return s.a.createElement(d,{petsData:e.state,adoptCat:e.adoptCat,adoptDog:e.adoptDog,adoptBoth:e.adoptBoth,joinQueue:e.joinQueue})}}),s.a.createElement(h.a,{path:"/Pets",render:function(){return s.a.createElement(N,{petsData:e.state})}}),s.a.createElement(h.a,{path:"/Success",render:function(){return s.a.createElement(D,{successes:e.state.successes})}}))}}]),t}(n.Component));a(37);l.a.render(s.a.createElement(m.a,null,s.a.createElement(S,null)),document.getElementById("root"))}},[[22,1,2]]]);
//# sourceMappingURL=main.12ee15d3.chunk.js.map